@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

// Alert
.alert {
  @apply bg-gray-100 text-gray-700 p-4 rounded text-sm font-sans;
  @apply dark:bg-gray-800 dark:text-white;

  svg {
    @apply text-gray-400;
  }

  &.alert-info {
    @apply bg-blue-50 text-blue-700;
    @apply dark:bg-gray-800 dark:text-blue-400;

    svg {
      @apply text-blue-400;
    }
  }

  &.alert-success {
    @apply bg-green-50 text-green-700;
    @apply dark:bg-gray-800 dark:text-green-400;

    svg {
      @apply text-green-400;
    }
  }

  &.alert-error {
    @apply bg-red-50 text-red-700;
    @apply dark:bg-gray-800 dark:text-red-400;


    svg {
      @apply text-red-400;
    }
  }

  &.alert-warning {
    @apply bg-yellow-50 text-yellow-700;
    @apply dark:bg-gray-800 dark:text-yellow-400;

    svg {
      @apply text-yellow-400;
    }
  }

  a {
    @apply font-semibold;
  }
}

.notice {
  @apply bg-gray-100 flex items-center text-sm justify-center font-medium p-4;
  @apply dark:bg-gray-800;

  &.notice-info {
    @apply bg-blue-50 text-blue-700;
    @apply dark:bg-gray-800 dark:text-blue-400;

    svg {
      @apply text-blue-400;
    }
  }

  &.notice-success {
    @apply bg-green-50 text-green-700;
    @apply dark:bg-gray-800 dark:text-green-400;

    svg {
      @apply text-green-400;
    }
  }

  &.notice-error {
    @apply bg-red-50 text-red-700;
    @apply dark:bg-gray-800 dark:text-red-400;

    svg {
      @apply text-red-400;
    }
  }

  &.notice-warning {
    @apply bg-yellow-50 text-yellow-700;
    @apply dark:bg-gray-800 dark:text-yellow-400;

    svg {
      @apply text-yellow-400;
    }
  }
}

// Base

body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  /* mobile viewport bug fix */
  min-height: -webkit-fill-available;
}
.main {
  flex: 1;
}

a {
  @apply text-blue-600;

  &:hover,
  &:focus {
    @apply text-blue-500;

    transform: none;
  }
}

ul {
  @apply list-disc list-inside;
}

ol {
  @apply list-decimal list-inside;
}

.table {
  @apply w-full;
  th, td {
    @apply align-top;
  }

}

.table-responsive {
  @apply block w-full overflow-x-auto;
}


// Buttons
/* Hotwire's version of data-disable-with */
button                  .when-disabled { display: none; }
button[disabled]        .when-disabled { display: initial; }
button                  .when-enabled { display: initial; }
button[disabled]        .when-enabled { display: none; }

@layer components {
  .btn {
    @apply inline-flex text-sm font-semibold text-center px-4 py-0 rounded-md no-underline items-center justify-between shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2;

    height: 40px;
    transition: ease 0.3s background, ease 0.3s transform, ease 0.2s color;

    &:hover,
    &:focus {
      @apply cursor-pointer;
    }

    &:disabled {
      @apply opacity-75 cursor-not-allowed;
    }
  }

  .btn-small {
    @apply px-3 text-sm;

    height: 32px;
    line-height: 32px;
  }

  .btn-large {
    @apply text-base px-6;

    height: 48px;
    line-height: 48px;
  }

  .btn-primary {
    @apply bg-blue-600 text-white focus:ring-blue-500;

    &:hover,
    &:focus {
      @apply bg-blue-500 text-white;
    }

    &.btn-outline {
      @apply bg-transparent border border-blue-500 text-blue-500 shadow-none;

      &:hover,
      &:focus {
        @apply bg-blue-500 text-white;
      }
    }
  }

  .btn-secondary {
    @apply bg-green-600 text-white focus:ring-green-500;

    &:hover,
    &:focus {
      @apply bg-green-500 text-white;
    }

    &.btn-outline {
      @apply bg-transparent border border-green-500 text-green-600 shadow-none;

      &:hover,
      &:focus {
        @apply bg-green-500 text-white;
      }
    }
  }

  .btn-tertiary {
    @apply bg-neutral-800 text-white focus:ring-neutral-700;

    &:hover,
    &:focus {
      @apply bg-neutral-700 text-white;
    }

    &.btn-outline {
      @apply bg-transparent border border-neutral-500 text-neutral-800 dark:text-neutral-100 shadow-none;

      &:hover,
      &:focus {
        @apply bg-neutral-700 text-white;
      }
    }
  }

  .btn-danger {
    @apply bg-red-600 text-white focus:ring-red-500;

    &:hover,
    &:focus {
      @apply bg-red-500 text-white;
    }

    &.btn-outline {
      @apply bg-transparent border border-red-500 text-red-500 shadow-none;

      &:hover,
      &:focus {
        @apply bg-red-500 text-white;
      }
    }
  }

  .btn-gray {
    @apply bg-gray-100 text-gray-800 hover:bg-gray-200 hover:text-gray-800 focus:ring-gray-600;
  }

  .btn-light-gray {
    @apply bg-gray-100 text-gray-800 hover:bg-gray-200 hover:text-gray-800 focus:ring-gray-600 dark:bg-gray-700 dark:text-gray-200;
  }

  .btn-white {
    @apply bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:text-gray-700 focus:ring-blue-500;

    &.primary {
      @apply text-blue-600;
    }

    &.secondary {
      @apply text-green-600;
    }

    &.tertiary {
      @apply text-gray-600;
    }

    &.gray {
      @apply text-gray-700;
    }
  }

  .btn-link {
    @apply text-blue-500 bg-transparent shadow-none;

    &:hover,
    &:focus {
      @apply text-blue-600;

      transform: none;
    }
  }

  .btn-light-blue {
    @apply text-blue-700 bg-blue-100 focus:ring-blue-700;
  }

  .btn-light-green {
    @apply text-green-700 bg-green-100 focus:ring-green-700;
  }

  .btn-light-red {
    @apply text-red-700 bg-red-100 focus:ring-red-700;
  }

  .btn-expanded, .btn-block {
    @apply flex justify-center w-full;
  }
}

// Nav
.nav-link {
  @apply block no-underline text-gray-500 hover:text-gray-800 dark:text-gray-200 dark:hover:text-gray-300 px-2 py-1 text-base font-medium whitespace-nowrap;
  line-height: 30px;

  &.active {
    @apply font-semibold;
  }

  &:focus {
    @apply text-gray-900;
  }
}

@media (min-width: 1024px) {
  .nav-link {
    @apply inline-flex my-0 mr-3;
    line-height: 40px;
  }
}

/* Highlights unread notifications with background color */
[data-notifications-target="notification"]:not([data-read-at]) {
  @apply bg-gray-100;
}

/* Highlights uninteracted notifications with blue dot */
[data-notifications-target="notification"]:not([data-interacted-at]) {
  [uninteracted] {
    @apply block;
  }
}

.dropdown-menu {
  min-width: 100%;

  @screen lg {
    min-width: 200px;
  }
}

// Forms
.form-group {
  @apply mb-6 relative;
}

.form-input {
  &[disabled] {
    @apply bg-gray-200;
  }
}

/* non-input elements (like the Stripe card form) can be styled to look like an input */
div.form-control {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-color: #fff;
  border-width: 1px;
  padding-top: .5rem;
  padding-right: .75rem;
  padding-bottom: .5rem;
  padding-left: .75rem;
  font-size: 1rem;
  line-height: 1.5rem;
}

@layer components {
  .form-control {
    @apply form-input block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6;
    @apply dark:bg-gray-700 dark:ring-gray-600 dark:placeholder-gray-300/50 dark:text-white dark:focus:ring-primary-500;

    &[disabled], &[readonly] {
      @apply bg-gray-200 dark:bg-gray-600;
    }

    &.error {
      @apply border-red-300 dark:border-red-600;
    }
  }
}

select {
  @apply sm:text-sm;
}

select:not([multiple]) {
  @apply w-full mt-1 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6;
  @apply dark:bg-gray-700 dark:ring-gray-600 dark:placeholder-gray-300/50 dark:text-white dark:focus:ring-primary-500;

  &[disabled] {
    @apply bg-gray-200 dark:bg-gray-600;
  }
}

select[multiple] {
  @apply w-full mt-1 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6;
  @apply dark:bg-gray-700 dark:ring-gray-600 dark:placeholder-gray-300/50 dark:text-white dark:focus:ring-primary-500;

  &[disabled] {
    @apply bg-gray-200 dark:bg-gray-600;
  }
}

label,
.label {
  @apply block text-sm font-medium leading-5 text-gray-700 mb-1;
  @apply dark:text-gray-100;
}

.form-hint {
  @apply text-gray-600 dark:text-gray-300/75 text-xs italic;

  &.error {
    @apply text-red-500 text-sm italic leading-normal mt-1;
  }
}

.caret {
  @apply pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-800;
}

form.inline {
  .form-group {
    @apply flex justify-start items-center;
  }

  .form-group .input {
    @apply flex-1;
  }

  .form-group .label {
    @apply w-1/4;
  }
}

/* Fix flatpickr */
.flatpickr-current-month .flatpickr-monthDropdown-months {
  display: inline-block;
}

.form-checkbox {
  @apply rounded border-gray-300 text-primary-600 focus:ring-primary-600;
  @apply dark:border-white/10 dark:checked:bg-current dark:bg-white/5 dark:focus:ring-offset-gray-900;

  &[disabled] {
    @apply bg-gray-200 dark:bg-gray-600;
  }
}

[type='checkbox'] {
  @apply form-checkbox;
}

.form-radio {
  @apply border-gray-300 text-primary-600 focus:ring-primary-600 dark:border-white/10 dark:bg-white/5 dark:focus:ring-offset-gray-900;

  &[disabled] {
    @apply bg-gray-200 dark:bg-gray-600;
  }
}

[type='radio'] {
  @apply form-radio;
}

.input-file {
  height: auto;
  z-index: 2;
  cursor: pointer;

  @apply opacity-0 inline-block pl-0 pr-0 py-3 px-3 overflow-hidden absolute border-none;

  + label {
    @apply inline-flex text-sm font-bold text-center px-4 py-0 rounded no-underline items-center justify-between cursor-pointer;

    height: 40px;
    line-height: 40px;
    transition: ease 0.3s background, ease 0.3s transform, ease 0.2s color;

    @apply btn;
    @apply btn-tertiary;

    &:focus {
      outline: 1px dotted #000;
      outline: -webkit-focus-ring-color auto 5px;
    }
  }
}

.switch, .toggle {
  @apply relative;

  input[type="checkbox"] {
    @apply absolute top-2 left-0 opacity-0;

    &:checked {
      + label {
        &:before {
          @apply bg-blue-600 dark:bg-blue-400;
        }

        &:after {
          @apply translate-x-[26px];
        }
      }
    }
  }

  label {
    @apply relative pl-16 pt-0.5 hover:cursor-pointer;

    &:before {
      @apply absolute bg-gray-200 dark:bg-gray-700 top-0 left-0 rounded-3xl h-6 w-[50px] content-[""] transition-colors duration-200 ease-in;
    }

    &:after {
      @apply absolute top-0.5 left-0.5 rounded-full w-5 h-5 bg-white dark:bg-gray-400 content-[""] transition-transform duration-200 ease-in;
    }
  }
}

// Icons
.icon-xs {
  width: 12px;
  height: auto;
}

.icon-sm {
  width: 16px;
  height: auto;
}

.icon {
  width: 20px;
  height: auto;
}

.icon-lg {
  width: 32px;
  height: auto;
}

.icon-xl {
  width: 36px;
  height: auto;
}

.icon-2xl {
  width: 48px;
  height: auto;
}

.icon-3xl {
  width: 64px;
  height: auto;
}

// Util
.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}

.transition {
  transition: ease-in-out 0.2s all;
}

/* Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
